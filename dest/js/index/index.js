"use strict";define(["jquery","text!template/index.html","common","swiper","lazyload","text!template/week.html","text!template/free.html","text!template/introduce.html","text!template/girl.html","text!template/title.html","text!template/second.html","text!template/thound.html"],function(a,n,i,o,t,c,s,l,m,r,e,d){function p(t,e){var n=5*t,a=5*t+5,i=e.slice(n,a);return i.map(function(t,e){t.count=e+1}),i}a(".header span").on("click",function(){var t=a(this).index();a(this).addClass("active").siblings().removeClass("active"),a(".content").css({transform:"translatex(-"+100*(t-1)+"%)"})}),a(".deng").on("click",function(){window.location.href="../page/login.html"}),a.ajax({url:"/api/index",dataType:"json",success:function(t){i(n,t.items[0].data,".banner"),new o(".swiper-container",{loop:!0,autoplay:!0}),i(c,t.items[1],".common-pic");var e=0;i(l,p(e,t.items[2].data.data),".pic1"),a(".pic1").on("click",".change_btn",function(){e++,i(l,p(e%=5,t.items[2].data.data),".pic1")}),i(m,p(e,t.items[3].data.data),".introduce_list1"),a(".pic2").on("click",".change_btn",function(){e++,i(m,p(e%=3,t.items[3].data.data),".introduce_list1")}),i(m,p(e,t.items[4].data.data),".introduce_list2"),a(".pic3").on("click",".change_btn",function(){e++,i(m,p(e%=3,t.items[4].data.data),".introduce_list2")}),i(s,t.items[5],".common-pic4"),i(r,t.items[6],".pic5"),a("img.ao").lazyload({effect:"fadeIn",container:a(".box1")}),u(".box1")}}),a.ajax({url:"/api/list",dataType:"json",success:function(t){i(e,t.items,".content_top"),a("img.ao").lazyload({effect:"fadeIn",container:a(".box2")}),a(".apple").on("click",function(){"./img/icon4.png"==a(this).attr("src")?(a(this).attr("src","./img/icon5.png"),i(d,t.items,".content_top")):"./img/icon5.png"==a(this).attr("src")&&(a(this).attr("src","./img/icon4.png"),i(e,t.items,".content_top")),a("img.ao").lazyload({effect:"fadeIn",container:a(".box2_content")})})}});var f=0;function u(t){if(3<=f)return a(".more").html("暂无更多的数据,请耐心等待..."),!1;var n=a(t).height();a(t).on("scroll",function(){var t,e=a(this).children().height()-n;a(this).scrollTop()+40>=e&&(a(this).off("scroll"),t=++f,a.ajax({url:"/api/loadmore",data:{pageNum:t,limit:20},dataType:"json",success:function(t){i(m,t.items,".pic6_content",1),u(".box1"),a("img.ao").lazyload({effect:"fadeIn",container:a(".box1")})}}))})}});